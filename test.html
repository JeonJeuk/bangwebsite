<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <style>
            img {
                /*width:100%;
                height:100%; */
                position: absolute;
                top: 0;
                left: 0;
            }

            .beeren {
                top: -200px;
            }
            #images {
                width: 400px;
                height: 300px;
                overflow: hidden;
                position: relative;
            }
        </style>
    </head>
    <body>

        <div id="images">
            <img class="test" src="https://unsplash.it/500/450?image=766" alt="bb">
            <img class="beeren" src="https://unsplash.it/500/450?image=889" alt="bb">
            <img class="test" src="https://unsplash.it/500/450?image=1080" alt="bb">
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
        <script>
            // =============================================
            var imgs = gsap.utils.toArray('#images img'),
                wrap = gsap.utils.wrap(imgs),
                count = imgs.length * 2,
                tl = gsap.timeline({
                    scrollTrigger: {
                        start: 0,
                        end: "+=1000",
                        pin: "#images",
                        scrub: 0.5
                    }
                }),
                i;

            imgs.reverse();

            for (i = 0; i < count; i++) {
                tl.to(wrap(i), {
                    duration: 1,
                    autoAlpha: 0,
                    scale: 1
                }, "+=2");
                tl.to(wrap(i + 1), {
                    duration: 1,
                    autoAlpha: 1,
                    scale: 1.2
                }, "<");
            }
        </script>
    </body>

</html>

// document.addEventListener('DOMContentLoaded', function() {
    //     // Passion 섹션의 스케일 조절
    //     const passionScaleControlButton = document.querySelector('.passion .controller.scale .controlButton');
    //     const passionScaleControlWrapper = document.querySelector('.passion .controller.scale .controlWrapper');
    //     const passionPatternImgs = document.querySelectorAll('.passion .pattern img');
    
    //     let passionScale = 0.97; // 초기 스케일 값
    
    //     passionScaleControlButton.addEventListener('mousedown', function(event) {
    //         event.preventDefault();
    //         document.addEventListener('mousemove', handlePassionScaleControlButtonMove);
    //         document.addEventListener('mouseup', handlePassionScaleControlButtonUp);
    //     });
    
    //     function handlePassionScaleControlButtonMove(event) {
    //         const newPosition = calculateNewPosition(event.clientX, passionScaleControlWrapper);
    //         movePassionScaleControlButton(newPosition);
    //         adjustPassionScale(newPosition);
    //     }
    
    //     function calculateNewPosition(clientX, wrapper) {
    //         const rect = wrapper.getBoundingClientRect();
    //         let newPosition = (clientX - rect.left) / rect.width;
    //         newPosition = Math.min(0.97, Math.max(0, newPosition));
    //         return newPosition;
    //     }
    
    //     function movePassionScaleControlButton(newPosition) {
    //         passionScaleControlButton.style.left = `${newPosition * 100}%`;
    //     }
    
    //     function adjustPassionScale(newPosition) {
    //         passionScale = 0.1 + newPosition * 0.9;
    //         passionPatternImgs.forEach(img => {
    //             img.style.transform = `scale(${passionScale})`;
    //         });
    //     }
    
    //     function handlePassionScaleControlButtonUp() {
    //         document.removeEventListener('mousemove', handlePassionScaleControlButtonMove);
    //         document.removeEventListener('mouseup', handlePassionScaleControlButtonUp);
    //     }
    
    //     // Passion 섹션의 회전 조절
    //     const passionRotationControlButton = document.querySelector('.passion .controller.rotation .controlButton');
    //     const passionRotationControlWrapper = document.querySelector('.passion .controller.rotation .controlWrapper');
    //     const passionRotationImgs = document.querySelectorAll('.passion .pattern img');
    
    //     let passionRotation = 0; // 초기 회전 값
    
    //     passionRotationControlButton.addEventListener('mousedown', function(event) {
    //         event.preventDefault();
    //         document.addEventListener('mousemove', handlePassionRotationControlButtonMove);
    //         document.addEventListener('mouseup', handlePassionRotationControlButtonUp);
    //     });
    
    //     function handlePassionRotationControlButtonMove(event) {
    //         const newRotation = calculateNewRotation(event.clientX, passionRotationControlWrapper);
    //         movePassionRotationControlButton(newRotation);
    //         adjustPassionRotation(newRotation);
    //     }
    
    //     function calculateNewRotation(clientX, wrapper) {
    //         const rect = wrapper.getBoundingClientRect();
    //         let newRotation = (clientX - rect.left) / rect.width;
    //         newRotation = Math.min(0.97, Math.max(0, newRotation));
    //         return newRotation * 360;
    //     }
    
    //     function movePassionRotationControlButton(newRotation) {
    //         passionRotationControlButton.style.left = `${newRotation / 360 * 100}%`;
    //     }
    
    //     function adjustPassionRotation(newRotation) {
    //         passionRotation = newRotation;
    //         passionRotationImgs.forEach(img => {
    //             img.style.transform = `scale(${passionScale}) rotate(${newRotation}deg)`;
    //         });
    //     }
    
    //     function handlePassionRotationControlButtonUp() {
    //         document.removeEventListener('mousemove', handlePassionRotationControlButtonMove);
    //         document.removeEventListener('mouseup', handlePassionRotationControlButtonUp);
    //     }
    
    //     const patternImg = document.querySelector('.patternImg img');
    //     // 계속 회전시키는 함수
    //     function startRotation() {
    //         passionRotation += .5; // 회전 속도 조절 가능
    //         passionPatternImgs.forEach(img => {
    //             img.style.transform = `scale(${passionScale}) rotate(${passionRotation}deg)`;
    //         });
    //         patternImg.style.transform = `scale(${passionScale}) rotate(${passionRotation}deg)`;
    //         requestAnimationFrame(startRotation); // 반복 호출로 지속적인 회전
    //     }
        
    //     // 함수 호출하여 회전 및 스케일 조절 시작
    //     startRotation();
    // });