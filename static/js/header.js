var btnMenu = {"v":"4.8.0","meta":{"g":"LottieFiles AE 3.5.1","a":"","k":"","d":"","tc":""},"fr":60,"ip":0,"op":1200,"w":1920,"h":1080,"nm":"Comp 1","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":1,"nm":"Black Solid 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.4],"y":[1]},"o":{"x":[0.6],"y":[0]},"t":60,"s":[0]},{"t":121,"s":[25]}],"ix":10},"p":{"a":0,"k":[960,540,0],"ix":2},"a":{"a":0,"k":[960,540,0],"ix":1},"s":{"a":0,"k":[80,80,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"f","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[198,309.479],[1725.169,309.479],[1725.169,770.521],[198,770.521]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 2"}],"sw":1920,"sh":1080,"sc":"#ffffff","ip":60,"op":1200,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":1,"nm":"Black Solid 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":1,"k":[{"i":{"x":[0.4],"y":[1]},"o":{"x":[0.6],"y":[0]},"t":60,"s":[0]},{"t":121,"s":[-25]}],"ix":10},"p":{"a":0,"k":[960,540,0],"ix":2},"a":{"a":0,"k":[960,540,0],"ix":1},"s":{"a":0,"k":[80,80,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"f","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[198,309.479],[1725.169,309.479],[1725.169,770.521],[198,770.521]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 2"}],"sw":1920,"sh":1080,"sc":"#ffffff","ip":60,"op":1200,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":1,"nm":"Black Solid 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,540,0],"ix":2},"a":{"a":0,"k":[960,540,0],"ix":1},"s":{"a":0,"k":[80,80,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"f","pt":{"a":1,"k":[{"i":{"x":0.3,"y":1},"o":{"x":0.7,"y":0},"t":0,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[198,309.479],[659.042,309.479],[659.042,770.521],[198,770.521]],"c":true}]},{"t":60,"s":[{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[198,309.479],[1725.169,309.479],[1725.169,770.521],[198,770.521]],"c":true}]}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 2"}],"sw":1920,"sh":1080,"sc":"#ffffff","ip":0,"op":61,"st":0,"bm":0},{"ddd":0,"ind":4,"ty":1,"nm":"Black Solid 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[960,540,0],"ix":2},"a":{"a":0,"k":[960,540,0],"ix":1},"s":{"a":0,"k":[80,80,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"f","pt":{"a":1,"k":[{"i":{"x":0.3,"y":1},"o":{"x":0.7,"y":0},"t":0,"s":[{"i":[[-153.582,0],[0,153.581],[153.584,0],[0,-153.584]],"o":[[-153.582,0],[0,153.581],[153.584,0],[0,-153.584]],"v":[[1238.089,540],[959.998,261.911],[681.909,540],[959.998,818.089]],"c":true}]},{"t":60,"s":[{"i":[[-153.582,0],[0,123.709],[153.584,0],[0,-123.712]],"o":[[-153.582,0],[0,123.709],[153.584,0],[0,-123.712]],"v":[[1238.089,540],[959.998,316],[681.909,540],[959.998,764]],"c":true}]}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 1"},{"inv":false,"mode":"f","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[198,309.479],[659.042,309.479],[659.042,770.521],[198,770.521]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 2"},{"inv":false,"mode":"f","pt":{"a":0,"k":{"i":[[-127.315,0],[0,-127.313],[127.311,0],[0,127.311]],"o":[[127.315,0],[0,127.313],[-127.311,0],[0,-127.311]],"v":[[1491.479,309.479],[1722.002,540],[1491.479,770.521],[1260.958,540]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"Mask 3"}],"sw":1920,"sh":1080,"sc":"#ffffff","ip":0,"op":61,"st":0,"bm":0}],"markers":[]}

var animation = lottie.loadAnimation({
    container: document.getElementById('toggle'), 
    renderer: 'svg',
    loop: false,
    autoplay: false,
    animationData: btnMenu 
});

// const topBtn = document.querySelector('.topBtn');
// topBtn.addEventListener('click', function () {
//     window.scrollTo({ top: 0, behavior: 'smooth' });
// });

// 애니메이션의 재생 상태를 추적함
var animationDirection = 1; 

// 클릭 이벤트
document.getElementById('toggle').addEventListener('click', function() {
    if (animationDirection === 1) {
        // 정방향으로 재생
        animation.setDirection(1); 
        animation.play();
    } else {
        // 역방향으로 재생
        animation.setDirection(-1); 
        animation.play();
    }
    // 재생 방향 토글
    animationDirection = -animationDirection;
});

    
    $(function(){
        $('#toggle').click(function(){
            $(this).toggleClass('active');
            $('.contentOverlay').toggleClass('active');
        });
    });

    window.addEventListener("DOMContentLoaded", ()=> {
        const menu = document.querySelector(".contentOverlay");
        gsap.set(menu, {opacity : 0});

        const squareContainer = document.getElementById("squareContainer");
        const squareSize = 75;
        const screenWidth = window.innerWidth;
        const screenHeight = window.innerHeight;
        const numCols = Math.ceil(screenWidth / squareSize);
        const numRows = Math.ceil(screenHeight / squareSize);

        const numSquares = numCols * numRows;

        squareContainer.style.width = `${numCols * squareSize}px`
        squareContainer.style.height = `${numRows * squareSize}px`

        let squares =  [];

        const colors = ["#FF1345", "#A54AFF", "#0AA7FF"];

        function getRandomColor() {
        return colors[Math.floor(Math.random() * colors.length)];
        }

        function createSquares(){
            for (let i = 0; i < numSquares; i++){
                const square = document.createElement("div");
                square.style.backgroundColor = getRandomColor(); 
                square.classList.add("square");
                squareContainer.appendChild(square);
                squares.push(square);
            }
        }

        function animateSquares(){
            gsap.fromTo(
                squares,
                {
                    opacity:0,
                },
                {
                    opacity:1,
                    delay:0.5,
                    duration:0.0005,
                    stagger:{
                        each: 0.003,
                        from:"random",
                    },
                }
            );

            gsap.to(squares,{
                opacity:0,
                delay:1.5,
                duration:0.0005,
                stagger:{
                    each:0.003,
                    from:"random",
                },
            });
        }

        let overlayVisible = false;

        document.getElementById("toggle").addEventListener("click",()=>{
            squareContainer.innerHTML = "",
            squares = [];
            createSquares();
            animateSquares();

            overlayVisible = !overlayVisible;

            console.log("overlayVisible:", overlayVisible);

            gsap.to(menu, 0.025, {
                opacity : overlayVisible ? 1 : 0,
                visibility : overlayVisible ? "visible" : "hidden",
                delay:1.15,

                
            });

            gsap.to(menu, {
                zIndex:overlayVisible ? 0 : -1,
                delay: overlayVisible ? 0 : 2,
            });

            

        });
    });

    var images = document.querySelectorAll(".webLogo img");
    var i = 0;
    
    function changeImage() {
        images[i].style.opacity = "0";
        i = (i + 1) % images.length;
        images[i].style.opacity = "1";
    }
    
    // 2초마다 이미지를 바꿈
    setInterval(changeImage, 2000);


